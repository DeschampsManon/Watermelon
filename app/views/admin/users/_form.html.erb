<% if flash[:alert] %>
    <div class="container">
      <p class="alert alert-danger">
        <%= flash[:alert] %>
      </p>
    </div>
<% end %>
<% if flash[:notice] %>
    <div class="container">
      <p class="alert alert-success">
        <%= flash[:notice] %>
      </p>
    </div>
<% end %>
<section class="clearfix margin-bot-20">
  <div class="container">
    <div class="white-content">
      <%= form_for(@user, url: {action: @user.new_record? ? "create" : "update"}, html: { class: "main-form clearfix" }) do |f| %>
          <h2><%= t '.form_description' %></h2>
          <div class="pull-left center-630" style="width:17rem">
            <div class="content-flex relative form-file">
              <%= image_tag @user.avatar(:small), onerror:"this.onerror=null;this.src='#{image_url('no-image.png')}';" %>
              <%= f.label :avatar do %>
                  <%= material_icon.cloud_upload %>
              <% end %>
              <%= f.file_field :avatar, class: "hidden" %>
            </div>
          </div>
          <div class="pull-left" id="user-form">
            <div class="row">
              <div class="col-md-6">
                <%= f.label :first_name, class:"required" %>
                <%= f.text_field :first_name, required: true %>
              </div>
              <div class="col-md-6">
                <%= f.label :last_name, class:"required" %>
                <%= f.text_field :last_name, required: true %>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <%= f.label :role %>
                <%= f.select :roles, options_from_collection_for_select(Role.all, :name, :translated_name), {}, class: "select2" %>
              </div>
              <div class="col-md-6">
                <%= f.label :email, class:"required" %>
                <%= f.text_field :email, required: true %>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <%= f.label :phone %>
                <%= f.text_field :phone, class: "no-spaces" %>
              </div>
              <div class="col-md-6">
                <%= f.label :address, class:"required" %>
                <%= f.text_field :address, required: true %>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <%= f.label :city, class:"required" %>
                <%= f.text_field :city, required: true %>
              </div>
              <div class="col-md-6">
                <%= f.label :zip_code, class:"required" %>
                <%= f.text_field :zip_code, class: "no-spaces", required: true %>
              </div>
            </div>
            <div class="pull-right">
              <%= f.submit class: "btn btn-primary" %>
            </div>
          </div>
      <% end %>
    </div>
  </div>
</section>